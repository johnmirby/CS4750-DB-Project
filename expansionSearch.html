<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Magic the Gathering Card Tool</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  </head>
  <body>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script>
  $(document).ready(function() {
    $( '#adv-search' ).submit(function() {
      return false;
    });

    $( "#expansionName" ).change(function() {
    
      $.ajax({
        url: 'searchExpansionName.php', 
        data: { searchExpansionName: $( "#expansionName" ).val(), 
              searchCardNameText: $( "#cardNameText" ).val(), 
              searchIndex: $( '#searchType' ).val() },
        success: function(data){
          $('#cardResult').html(data); 
        
        }
      });
    });

    $( "#cardNameText" ).change(function() {
    
      $.ajax({
        url: 'searchExpansionName.php', 
        data: { searchExpansionName: $( "#expansionName" ).val(), 
              searchCardNameText: $( "#cardNameText" ).val(), 
              searchIndex: $( '#searchType' ).val() },
        success: function(data){
          $('#cardResult').html(data); 
        
        }
      });
    });
    
    $( "#searchType" ).change(function() {
    
      if ($("#searchType").val() == 0) {
        $("#cardNameLabel").hide();
        $("#cardNameText").hide();
      }
      if ($("#searchType").val() == 1) {
        $("#cardNameLabel").show();
        $("#cardNameText").show();
      }
      
      $.ajax({
        url: 'searchExpansionName.php', 
        data: { searchExpansionName: $( "#expansionName" ).val(), 
              searchCardNameText: $( "#cardNameText" ).val(), 
              searchIndex: $( '#searchType' ).val() },
        success: function(data){
          $('#cardResult').html(data); 
        
        }
      });
    });
  });
  </script>
    <div class="container" id="ParentDiv">
      <div class="jumbotron">
        <h1>MTG Card Tool</h1>
        <p>For competitive use!</p>
      </div>
      <ul class="nav nav-tabs nav-justified">
        <li role="presentation" class="active"><a href="#">Home</a></li>
        <li role="presentation"><a href="admin.html">Admin</a></li>
      </ul>
      <div class="col-md-4">
        <ul class="nav nav-pills nav-stacked">
          <li role="presentation"><a href="index.html">Card Search</a></li>
          <li role="presentation" class="active"><a href="">Expansion Search</a></li>
          <li role="presentation"><a href="bannedList.php">Banned List</a></li>
        </ul>
      </div>
      <div class="col-md-8">
    <div class="input-group" id="adv-search">
    <input type="text" class="form-control" id="expansionName" placeholder="Enter card name">
    <div class="input-group-btn">
        <div class="btn-group" role="group">
            <div class="dropdown dropdown-lg">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span></button>
                <div class="dropdown-menu dropdown-menu-right" role="menu">
                    <form class="form-horizontal" role="form">
                      <div class="form-group">
                        <label for="filter">Search Type</label>
                        <select id="searchType" class="form-control">
                            <option value="0" selected>Search Expansion</option>
                            <option value="1">Search Printings</option>
                        </select>
                      </div>
                      <div class="form-group">
                        <label id="cardNameLabel" for="contain">Enter Card Name</label>
                        <input id="cardNameText" class="form-control" type="text" />
                      </div>
                   </form>
                </div>
            </div>
            <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
        </div>
    </div>
  </div>
  <div class="table">
      <div id="cardResult">Search Results</div>
    </div>
  </div>
</div>

</body>
<style>
body {
    padding-top: 50px;
}
.dropdown.dropdown-lg .dropdown-menu {
    margin-top: -1px;
    padding: 6px 20px;
}
.input-group-btn .btn-group {
    display: flex !important;
}
.btn-group .btn {
    border-radius: 0;
    margin-left: -1px;
}
.btn-group .btn:last-child {
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
}
.btn-group .form-horizontal .btn[type="submit"] {
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
}
.form-horizontal .form-group {
    margin-left: 0;
    margin-right: 0;
}
.form-group .form-control:last-child {
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
}
#cardNameLabel {
  display: none;
}
#cardNameText {
  display: none;
}
</style>
</html>
